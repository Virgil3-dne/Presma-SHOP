{"ast":null,"code":"import { FETCH_PRODUCTS, FILTER_PRODUCTS_BY_SIZE, ORDER_PRODUCTS_BY_PRICE } from \"./types\";\nexport const fetchProducts = () => dispatch => {\n  fetch(\"http://localhost:8000/products\").then(res => res.json()).catch(err => fetch(\"db.json\").then(res => res.json()).then(data => data.products)).then(data => {\n    dispatch({\n      type: FETCH_PRODUCTS,\n      payload: data\n    });\n  });\n};\nexport const filterProducts = (products, size) => dispatch => {\n  dispatch({\n    type: FILTER_PRODUCTS_BY_SIZE,\n    payload: {\n      size: size,\n      items: size === \"\" ? products : products.filter(x => x.availableSizes.indexOf(size.toUpperCase()) >= 0)\n    }\n  });\n};\nexport const sortProducts = (items, sort) => dispatch => {\n  const products = items.slice();\n\n  if (sort !== \"\") {\n    products.sort((a, b) => sort === \"lowestprice\" ? a.price > b.price ? 1 : -1 : a.price < b.price ? 1 : -1);\n  } else {\n    products.sort((a, b) => a.id > b.id ? 1 : -1);\n  }\n\n  dispatch({\n    type: ORDER_PRODUCTS_BY_PRICE,\n    payload: {\n      sort: sort,\n      items: products\n    }\n  });\n};","map":{"version":3,"sources":["C:/Users/virgi_tu2u19/Desktop/Web/Teste projet/Shopping-Cart-using-React-and-Redux/src/actions/productActions.js"],"names":["FETCH_PRODUCTS","FILTER_PRODUCTS_BY_SIZE","ORDER_PRODUCTS_BY_PRICE","fetchProducts","dispatch","fetch","then","res","json","catch","err","data","products","type","payload","filterProducts","size","items","filter","x","availableSizes","indexOf","toUpperCase","sortProducts","sort","slice","a","b","price","id"],"mappings":"AAAA,SACIA,cADJ,EAEIC,uBAFJ,EAGIC,uBAHJ,QAIS,SAJT;AAME,OAAO,MAAMC,aAAa,GAAG,MAAOC,QAAD,IAAc;AAC/CC,EAAAA,KAAK,CAAC,gCAAD,CAAL,CACGC,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGC,KAFH,CAEUC,GAAD,IACLL,KAAK,CAAC,SAAD,CAAL,CACGC,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESK,IAAD,IAAUA,IAAI,CAACC,QAFvB,CAHJ,EAOGN,IAPH,CAOSK,IAAD,IAAU;AACdP,IAAAA,QAAQ,CAAC;AAAES,MAAAA,IAAI,EAAEb,cAAR;AAAwBc,MAAAA,OAAO,EAAEH;AAAjC,KAAD,CAAR;AACD,GATH;AAUD,CAXM;AAaP,OAAO,MAAMI,cAAc,GAAG,CAACH,QAAD,EAAWI,IAAX,KAAqBZ,QAAD,IAAc;AAC9DA,EAAAA,QAAQ,CAAC;AACPS,IAAAA,IAAI,EAAEZ,uBADC;AAEPa,IAAAA,OAAO,EAAE;AACPE,MAAAA,IAAI,EAAEA,IADC;AAEPC,MAAAA,KAAK,EACHD,IAAI,KAAK,EAAT,GACIJ,QADJ,GAEIA,QAAQ,CAACM,MAAT,CACGC,CAAD,IAAOA,CAAC,CAACC,cAAF,CAAiBC,OAAjB,CAAyBL,IAAI,CAACM,WAAL,EAAzB,KAAgD,CADzD;AALC;AAFF,GAAD,CAAR;AAYD,CAbM;AAeP,OAAO,MAAMC,YAAY,GAAG,CAACN,KAAD,EAAQO,IAAR,KAAkBpB,QAAD,IAAc;AACzD,QAAMQ,QAAQ,GAAGK,KAAK,CAACQ,KAAN,EAAjB;;AACA,MAAID,IAAI,KAAK,EAAb,EAAiB;AACfZ,IAAAA,QAAQ,CAACY,IAAT,CAAc,CAACE,CAAD,EAAIC,CAAJ,KACZH,IAAI,KAAK,aAAT,GACIE,CAAC,CAACE,KAAF,GAAUD,CAAC,CAACC,KAAZ,GACE,CADF,GAEE,CAAC,CAHP,GAIIF,CAAC,CAACE,KAAF,GAAUD,CAAC,CAACC,KAAZ,GACA,CADA,GAEA,CAAC,CAPP;AASD,GAVD,MAUO;AACLhB,IAAAA,QAAQ,CAACY,IAAT,CAAc,CAACE,CAAD,EAAIC,CAAJ,KAAWD,CAAC,CAACG,EAAF,GAAOF,CAAC,CAACE,EAAT,GAAc,CAAd,GAAkB,CAAC,CAA5C;AACD;;AACDzB,EAAAA,QAAQ,CAAC;AACPS,IAAAA,IAAI,EAAEX,uBADC;AAEPY,IAAAA,OAAO,EAAE;AACPU,MAAAA,IAAI,EAAEA,IADC;AAEPP,MAAAA,KAAK,EAAEL;AAFA;AAFF,GAAD,CAAR;AAOD,CAtBM","sourcesContent":["import {\r\n    FETCH_PRODUCTS,\r\n    FILTER_PRODUCTS_BY_SIZE,\r\n    ORDER_PRODUCTS_BY_PRICE,\r\n  } from \"./types\";\r\n  \r\n  export const fetchProducts = () => (dispatch) => {\r\n    fetch(\"http://localhost:8000/products\")\r\n      .then((res) => res.json())\r\n      .catch((err) =>\r\n        fetch(\"db.json\")\r\n          .then((res) => res.json())\r\n          .then((data) => data.products)\r\n      )\r\n      .then((data) => {\r\n        dispatch({ type: FETCH_PRODUCTS, payload: data });\r\n      });\r\n  };\r\n  \r\n  export const filterProducts = (products, size) => (dispatch) => {\r\n    dispatch({\r\n      type: FILTER_PRODUCTS_BY_SIZE,\r\n      payload: {\r\n        size: size,\r\n        items:\r\n          size === \"\"\r\n            ? products\r\n            : products.filter(\r\n                (x) => x.availableSizes.indexOf(size.toUpperCase()) >= 0\r\n              ),\r\n      },\r\n    });\r\n  };\r\n  \r\n  export const sortProducts = (items, sort) => (dispatch) => {\r\n    const products = items.slice();\r\n    if (sort !== \"\") {\r\n      products.sort((a, b) =>\r\n        sort === \"lowestprice\"\r\n          ? a.price > b.price\r\n            ? 1\r\n            : -1\r\n          : a.price < b.price\r\n          ? 1\r\n          : -1\r\n      );\r\n    } else {\r\n      products.sort((a, b) => (a.id > b.id ? 1 : -1));\r\n    }\r\n    dispatch({\r\n      type: ORDER_PRODUCTS_BY_PRICE,\r\n      payload: {\r\n        sort: sort,\r\n        items: products,\r\n      },\r\n    });\r\n  };"]},"metadata":{},"sourceType":"module"}